{% extends "layout.html" %}

{% block pageTitle %}
GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/start">
        Home
      </a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
    <a class="govuk-breadcrumbs__link" href="/v1/funding-management">
        Funding management
      </a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/v1/funding-approvals/view-funding">
        Funding approvals
      </a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
        <a class="govuk-breadcrumbs__link" href="/v1/funding-approvals/16-19/16-19-results-with-la">
            16 to 19 Mainstream 2023 to 2024
        </a>
      </li>
  </ol>
  
</div>

{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="govuk-form-group">
            <form action="batch-reprofile" method="post" id="batchProviders" novalidate>
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl">
                        <h1 class="govuk-fieldset__heading govuk-!-margin-bottom-5">
                           Reprofile a batch of providers
                        </h1>
                    </legend>
                    <p class="govuk-body">If you choose to reprofile the allocations of providers in a batch,their profile will be generated based on the open dates for new openers and converters, and a flat 
                        distribution pattern will be applied.
                    </p>
                    <h2 class="govuk-heading-m">
                        16 to 19 Mainstream 2023 to 2024
                     </h2>
                     <p class="govuk-body">Reprofile provider allocation by uploading the data on the first sheet of a .xlsx file. When you upload, remember the following:


                     </p>
                    <ul class="govuk-list govuk-list--bullet">
                      
                        <li>the file should have only one UKPRN column</li>
                        <!-- <li>the providers already approved or released will not be shown in the provider count summaries -->
                        </li>
                    </ul>
        </div>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="govuk-form-group">
            <label class="govuk-label" for="file-upload"><strong>
                    Upload a .xlsx file</strong>
            </label>
            <input class="govuk-file-upload" id="file-upload" name="file-upload" type="file" onchange="enableButton()">
        </div>
        <button  id="reprofile" onclick="approve()" class="govuk-button govuk-!-margin-right-1" data-module="govuk-button" disabled>
            Reprofile
        </button>
        <a href="javascript:history.back()" class="govuk-link govuk-button govuk-button--secondary">
            Cancel
        </a>
     
        </fieldset>
        </form>
    </div>
</div>

<script>
    function approve() {
        document.getElementById('batchProviders').action = 'batch-reprofile-in-progress'

    }

    window.onload = function getSpecification() {
        let specification = sessionStorage.getItem('view funding specification')
        document.getElementById('specification').innerHTML = specification
    }

    function release() {
        document.getElementById('batchProviders').action = 'batch-release-in-progress'
    }

    function processHold() {
        document.getElementById('batchProviders').action = 'process-hold-in-progress'
    }

    function enableButton() {
            var fileInput = document.getElementById('file-upload');
            var uploadButton = document.getElementById('reprofile');

            // Enable the button if a file is selected
            uploadButton.disabled = false;
        }
</script>

{% endblock %}