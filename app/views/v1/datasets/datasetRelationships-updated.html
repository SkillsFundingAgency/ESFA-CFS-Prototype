{% extends "layout.html" %}

{% block pageTitle %}
GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

<div class="govuk-breadcrumbs govuk">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/start">
        Home
      </a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="manageData">
        Manage data
      </a>
    </li>

  </ol>
</div>

{% endblock %}

{% block content %}

<div class="govuk-grid-row govuk-!-margin-bottom-9">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-2">Map data source files</h1>
    <span class="govuk-caption-l">Map data source files to data sets for a specification</span>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third position-sticky">
    <div class="filterScroll">
    <div class="govuk-form-group filterbyContainer">
        <div class="govuk-form-group filterSearch">
          <label class="govuk-heading-s govuk-!-display-inline-block govuk-!-margin-top-2 govuk-!-margin-bottom-2"
            for="mainContentSearch">Search</label>

          <!-- //Clear search  -->

          <a href=""
            class="govuk-link govuk-!-display-inline-block govuk-!-margin-top-2 govuk-!-margin-bottom-2 right-align"
            onclick="">
            Clear search</a>


          <input class="govuk-input filterSearchInput govuk-!-margin-bottom-2" id="mainContentSearch" autocomplete="off"
            name="searchBox" type="text">
        </div>
    </div>

    <div class="govuk-form-group filterbyContainer">
        <div class="selected-filters-background">
          <div class="govuk-form-group filterSearch">
            <h2 class="govuk-heading-s govuk-!-display-inline-block govuk-!-margin-top-2 govuk-!-margin-bottom-2"
              for="filter-by-type">Selected filters</h2>
            <a href=""
              class="govuk-link govuk-!-display-inline-block govuk-!-margin-top-2 govuk-!-margin-bottom-2 right-align"
              onclick="">
              Clear filters</a>

            <div id="showHideText">
              <p class="govuk-body-s">No filters selected</p>
            </div>

            <div class="filtersSelected">
              <div class="filter">
                <div class="filter__content">
                  <div class="filter__selected">

                    <!-- // Funding Stream Tags -->

                    <div class="hidden" id="fundingStreamText">
                      <h3 class="govuk-hint govuk-body govuk-!-font-size-16 govuk-!-margin-0">
                        Funding stream</h3>
                    </div>
                    <ul class="filter-tags">
                      <li id="filterFundingStreamOption1" class="hidden">
                        <a class="filter__tag" href=""><span class="govuk-visually-hidden">Remove this filter</span> PE
                          and
                          sports grant (1)</a>
                      </li>
                      <li id="filterFundingStreamOption2" class="hidden">
                        <a class="filter__tag" href=""><span class="govuk-visually-hidden">Remove this filter</span>
                          General annual grant (1)</a>
                      </li>
                    </ul>

                    <!-- // Funding Period Tags -->

                    <div class="hidden" id="fundingPeriodText">
                      <h3 class="govuk-hint govuk-body govuk-!-font-size-16 govuk-!-margin-0">
                        Funding period</h3>
                    </div>
                    <ul class="filter-tags">
                      <li id="filterFundingStreamOption4" class="hidden">
                        <a class="filter__tag" href=""><span class="govuk-visually-hidden">Remove this
                            filter</span>Financial year 2020 to 2021 (1)</a>
                      </li>
                      <li id="filterFundingStreamOption5" class="hidden">
                        <a class="filter__tag" href=""><span class="govuk-visually-hidden">Remove this
                            filter</span>Academic year 2019 to 2020 (1)</a>
                      </li>
                    </ul>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l govuk-visually-hidden">
          Filter your page results.
        </legend>
        <div class="govuk-form-group filterSearch">
          <div class="filterContainer">
            <div class="govuk-accordion" data-module="govuk-accordion" id="accordion-with-summary-sections">
              <div class="govuk-accordion__section ">
                <div class="govuk-accordion__section-header">
                  <h2 class="govuk-accordion__section-heading">
                    <span class="govuk-accordion__section-button govuk-body govuk-!-font-size-19"
                      id="accordion-with-summary-sections-heading-1">
                      <span class="govuk-visually-hidden">Filter by</span>
                      Funding stream
                    </span>
                  </h2>
                  <div class="govuk-accordion__section-summary govuk-body govuk-body-s"
                    id="accordion-with-summary-sections-summary-1">
                    <span id="y">0</span> selected
                  </div>
                </div>
                <div id="accordion-with-summary-sections-content-1" class="govuk-accordion__section-content"
                  aria-labelledby="accordion-with-summary-sections-heading-1">
                  <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-visually-hidden">
                      Search for a funding stream
                    </legend>
                    <div class="govuk-form-group filterSearch">
                      <label class="govuk-label filterLabel" for="searchFundingStream">
                        Search for funding stream
                      </label>
                      <input class="govuk-input filterSearchInput govuk-!-margin-bottom-2" id="searchFundingStream"
                        autocomplete="off" name="searchBox" type="text">
                    </div>

                    <div class="govuk-checkboxes govuk-checkboxes--small filterbyCheckbox" id="filterBySchoolResults">
                      <div class="govuk-checkboxes__item govuk-!-margin-top-2">
                        <input class="govuk-checkboxes__input" id="showHideChange" name="filterBySchoolResultsFilter1"
                          onclick="showMe('filterFundingStreamOption1'), updateStreamCount()" type="checkbox">
                        <label class="govuk-label govuk-checkboxes__label" for="showHideChange">
                          PE and sports grant <span>(1)</span>
                        </label>
                      </div>
                      <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" id="showHideChangeF2" name="filterBySchoolResultsFilter2"
                          onclick="showMeF2('filterFundingStreamOption2'), updateStreamCount()" type="checkbox" disabled>
                        <label class="govuk-label govuk-checkboxes__label" for="showHideChangeF2">
                          General annual grant <span>(1)</span>
                        </label>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>

              <div class="govuk-accordion__section">
                <div class="govuk-accordion__section-header">
                  <h2 class="govuk-accordion__section-heading">
                    <span class="govuk-accordion__section-button govuk-body govuk-!-font-size-19"
                      id="accordion-with-summary-sections-heading-1">
                      <span class="govuk-visually-hidden">Filter by</span>
                      Funding period
                    </span>
                  </h2>
                  <div class="govuk-accordion__section-summary govuk-body govuk-body-s"
                    id="accordion-with-summary-sections-summary-1">
                    <span id="periodCount">0</span> selected
                  </div>
                </div>
                <div id="accordion-with-summary-sections-content-1" class="govuk-accordion__section-content"
                  aria-labelledby="accordion-with-summary-sections-heading-1">
                  <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-visually-hidden">
                      Search for a funding period
                    </legend>
                    <div class="govuk-form-group filterSearch">
                      <label class="govuk-label filterLabel" for="searchFundingPeriod">
                        Search for funding period
                      </label>
                      <input class="govuk-input filterSearchInput govuk-!-margin-bottom-2" id="searchFundingPeriod"
                        autocomplete="off" name="searchFundingPeriod" type="text">
                    </div>
                    <div class="govuk-checkboxes govuk-checkboxes--small filterbyCheckbox" id="filterBySchoolResults">
                      <div class="govuk-checkboxes__item govuk-!-margin-top-2">
                        <input class="govuk-checkboxes__input" id="showHideChangeF4" name="filterByFinancialYear2020"
                          onclick="showMeF4('filterFundingStreamOption4'), updatePeriodCount()" type="checkbox"
                          value="hmrc">
                        <label class="govuk-label govuk-checkboxes__label" for="showHideChangeF4">
                          Financial year 2020 to 2021 <span>(1)</span>
                        </label>
                      </div>
                      <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" id="showHideChangeF5" name="filterByAcademicYear2019"
                          onclick="showMeF5('filterFundingStreamOption5'), updatePeriodCount()" type="checkbox" 
                          value="hmrc" disabled>
                        <label class="govuk-label govuk-checkboxes__label" for="showHideChangeF5">
                          Academic year 2019 to 2020 <span>(1)</span>
                        </label>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </div>
    </div>
  </div>

  <div class="govuk-grid-column-two-thirds">
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header govuk-!-width-one-half">Specification</th>
          <th scope="col" class="govuk-table__header"></th>
        </tr>
      </thead>

      <tbody class="govuk-table__body" id="mainContentResults">
        <tr class="govuk-table__row" id="showRow1">
          <th scope="row" class="govuk-table__header"><a class="govuk-link"
              href="dataRelationships1-updated">16-19 Mainstream 2023 to 2024</a>
            <p class="govuk-body govuk-!-margin-top-2">5 of 5 data sets mapped for specification</p>
            <p class="govuk-body">Last mapped 2 march 2023 2:46pm</p>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>

        <tr class="govuk-table__row" id="showRow1">
          <th scope="row" class="govuk-table__header"><a class="govuk-link"
              href="dataRelationships-1619.html">{{ data['spec-name'] }}</a>
            <p class="govuk-body govuk-!-margin-top-2">0 of 1 data sets mapped for specification</p>
            <p class="govuk-body">Last mapped 2 April 2020 2:46pm</p>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>

        <tr class="govuk-table__row" id="showRow2">
          <th scope="row" class="govuk-table__header"><a class="govuk-link" href="dataRelationshipsDSGSIT.html">GAG</a>
            <p class="govuk-body govuk-!-margin-top-2">1 of 2 data sets mapped for specification</p>
            <p class="govuk-body">Last mapped 2 April 2020 2:46pm</p>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>

      <tbody class="govuk-table__body" id="mainContentResults">
        <tr class="govuk-table__row" id="showRow3">
          <th scope="row" class="govuk-table__header"><a class="govuk-link" href="dataRelationshipsDSGSIT.html">1920
              Factors</a>
            <p class="govuk-body govuk-!-margin-top-2">0 of 2 data sets mapped for specification</p>
            <p class="govuk-body">Last mapped 17 June 2020 11:07am</p>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>
        <tr class="govuk-table__row" id="showRow4">
          <th scope="row" class="govuk-table__header">
            <p class="govuk-body">General annual grant </p>
            <p class="govuk-body govuk-!-margin-top-2">No data sets exist for specification </p>
            <p class="govuk-body-s"><a href="createDatasets.html" class="govuk-link">Create new data set</a></p>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>
        <tr class="govuk-table__row" id="showRow5">
          <th scope="row" class="govuk-table__header">
            <p class="govuk-body">General annual grant - in year openers</p>
            <div class="govuk-!-margin-top-1 govuk-!-margin-bottom-2">
              <span id="loader-content" class="inline-loader" role="alert" aria-live="assertive"></span>
              <span class="govuk-body">
                Converter wizard running. Please wait.
              </span>
            </div>
          <td class="govuk-table__cell"></td>
          </th>
        </tr>
    </table>
    <div class="app-back-to-top app-back-to-top--fixed govuk-!-margin-top-9" data-module="app-back-to-top">
      <a class="govuk-link govuk-link--no-visited-state app-back-to-top__link" href="#top">
        <svg role="presentation" focusable="false" class="app-back-to-top__icon" xmlns="http://www.w3.org/2000/svg"
          width="13" height="17" viewBox="0 0 13 17">
          <path fill="currentColor" d="M6.5 0L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z"></path>
        </svg>Back to top
      </a>
    </div>

    <nav role="navigation" aria-label="Pagination">
      <div class="pagination__summary">Showing 101 - 150 of 246 results</div>
      <ul class="pagination">
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Previous page"><span
              aria-hidden="true" role="presentation">&laquo;</span> Previous</a></li>
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 1">1</a></li>
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 2">2</a></li>
        <li class="pagination__item"><a class="pagination__link current" href="#0" aria-current="true"
            aria-label="Page 3, current page">3</a></li>
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 4">4</a></li>
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 5">5</a></li>
        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Next page">Next <span
              aria-hidden="true" role="presentation">&raquo;</span></a></li>
      </ul>
    </nav>

  </div>
</div>

<script>
  // Show me the first filter  

  function showMe(box) {

    var chboxs = document.getElementsByName("filterBySchoolResultsFilter1");
    var vis = "none";
    for (var i = 0; i < chboxs.length; i++) {
      if (chboxs[i].checked) {
        vis = "block";
        break;
      }
    }
    document.getElementById(box).style.display = vis;
  }

  // Show me the second filter 


  function showMeF2(box) {

    var chboxs = document.getElementsByName("filterBySchoolResultsFilter2");
    var vis = "none";
    for (var i = 0; i < chboxs.length; i++) {
      if (chboxs[i].checked) {
        vis = "block";
        break;
      }
    }
    document.getElementById(box).style.display = vis;
  }

  // Show me the third filter 

  function showMeF3(box) {

    var chboxs = document.getElementsByName("filterBySchoolResultsFilter3");
    var vis = "none";
    for (var i = 0; i < chboxs.length; i++) {
      if (chboxs[i].checked) {
        vis = "block";
        break;
      }
    }
    document.getElementById(box).style.display = vis;
  }

  // Show me funding stream 

  function showMeF4(box) {

    var chboxs = document.getElementsByName("filterByFinancialYear2020");
    var vis = "none";
    for (var i = 0; i < chboxs.length; i++) {
      if (chboxs[i].checked) {
        vis = "block";
        break;
      }
    }
    document.getElementById(box).style.display = vis;
  }

  function showMeF5(box) {

    var chboxs = document.getElementsByName("filterByAcademicYear2019");
    var vis = "none";
    for (var i = 0; i < chboxs.length; i++) {
      if (chboxs[i].checked) {
        vis = "block";
        break;
      }
    }
    document.getElementById(box).style.display = vis;
  }

  // Counter for checkboxes in funding stream

  var updateStreamCount = function () {
    var x = $(".govuk-checkboxes__input:checked").length;
    document.getElementById("y").innerHTML = x;
  };

  // Counter for checkboxes in funding period 

  var updatePeriodCount = function () {
    var x = $(".govuk-checkboxes__input:checked").length;
    document.getElementById("periodCount").innerHTML = x;
  };

  //Funding Stream 

  document.getElementById('showHideChange').onchange = function () {
    if ($('input[type=checkbox]:checked').length > 0) {
      document.getElementById('showHideText').style.display = "none";
      document.getElementById('fundingStreamText').style.display = "block";
    } else {
      document.getElementById('showHideText').style.display = "block";
      document.getElementById('fundingStreamText').style.display = "none";
    }

  };
  document.getElementById('showHideChangeF2').onchange = function () {
    if ($('input[type=checkbox]:checked').length > 0) {
      document.getElementById('showHideText').style.display = "none";
      document.getElementById('fundingStreamText').style.display = "block";
    } else {
      document.getElementById('showHideText').style.display = "block";
      document.getElementById('fundingStreamText').style.display = "none";
    }
  };

  //Funding Period 

  document.getElementById('showHideChangeF4').onchange = function () {
    if ($('input[type=checkbox]:checked').length > 0) {
      document.getElementById('showHideText').style.display = "none";
      document.getElementById('fundingPeriodText').style.display = "block";
    } else {
      document.getElementById('showHideText').style.display = "block";
      document.getElementById('fundingPeriodText').style.display = "none";
    }
  };

  document.getElementById('showHideChangeF5').onchange = function () {
    if ($('input[type=checkbox]:checked').length > 0) {
      document.getElementById('showHideText').style.display = "none";
      document.getElementById('fundingPeriodText').style.display = "block";
    } else {
      document.getElementById('showHideText').style.display = "block";
      document.getElementById('fundingPeriodText').style.display = "none";
    }
  };
</script>

{% endblock %}