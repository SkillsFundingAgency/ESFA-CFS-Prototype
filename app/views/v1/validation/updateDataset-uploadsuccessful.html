{% extends "layout.html" %}

{% block pageTitle %}
GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

<div class="govuk-breadcrumbs govuk">
    <ol class="govuk-breadcrumbs__list">
        <li class="govuk-breadcrumbs__list-item">
            <a class="govuk-breadcrumbs__link" href="/start">
                Home
            </a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
            <a class="govuk-breadcrumbs__link" href="manageData">
                Manage data
            </a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
            <a class="govuk-breadcrumbs__link" href="manageDatasets">
                Manage data source files
            </a>
        </li>
    </ol>
</div>

{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <h1 class="govuk-heading-xl govuk-!-margin-bottom-5">Update data source</h1>
        <details onchange="input4ValueChanged()" class="govuk-details" data-module="govuk-details">
            <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                    Lump sum for 2020 to 2021 (version 1)
                </span>
            </summary>
            <div class="govuk-details__text">
                Joe Young <span class="govuk-!-margin-left-2">21 November 12:24pm</span>
            </div>
        </details>

        <div class="govuk-form-group">
            <label class="govuk-label" for="file-upload-1">
                Select data source file
            </label>
            <input onchange="input4ValueChanged()" class="govuk-file-upload" id="file-upload-1" name="file-upload-1" type="file">
            <div class="govuk-grid-row govuk-!-margin-top-2">
                <div class="govuk-grid-column-two-thirds">
                    <strong class="govuk-tag govuk-tag--green left-align ">
                        Upload successful
                    </strong>
                </div>
            </div>
        </div>
        <div class="govuk-form-group">
            <label class="govuk-label" for="more-detail">
                Description
            </label>
            <span id="more-detail-hint" class="govuk-hint">
            </span>
            <textarea onchange="input4ValueChanged()" class="govuk-textarea" id="more-detail" name="more-detail" rows="5"
                aria-describedby="more-detail-hint">
Description inputted at point of creation to be shown here.
            </textarea>
        </div>
        <div class="govuk-form-group">
            <label class="govuk-label" for="more-detail">
                Change note
            </label>
            <span id="more-detail-hint" class="govuk-hint">
            </span>
            <textarea onchange="input4ValueChanged()" class="govuk-textarea" id="more-detail" name="more-detail" rows="5"
                aria-describedby="more-detail-hint"></textarea>
        </div>

        <div class="govuk-button-group">
            <button class="govuk-button" data-module="govuk-button">
                Save
            </button>
            <a class="govuk-link" href="javascript:void(0);" onclick="check()">
                Cancel
            </a>
        </div>
    </div>
</div>

<script>
    let inputWasChanged = false
  
    function check() {
  
        let counter = 0
  
        if (inputWasChanged === true) {
            document.getElementById('notSaved').style.display = 'block'
            counter++
        }
        if (counter === 0) {
            history.back()
        }
  
    }
  
    function input4ValueChanged() {
        if (document.getElementById("notSaved").value != "")
  
        {
            inputWasChanged = true;
        }
    }
  </script>


<div class="govuk-modal-dialogue" id="notSaved" data-module="govuk-modal-dialogue">
    {% include "includes/modal-dialogue.html" %}
</div>


{% endblock %}